<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>node-switchbot</title><meta name="description" content="Documentation for node-switchbot"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">node-switchbot</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>node-switchbot</h2></div><div class="tsd-panel tsd-typography"><span align="center">
<a id="md:node-switchbot" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Node-SwitchBot<a href="#md:node-switchbot" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p><a href="https://www.npmjs.com/package/node-switchbot"><img title="npm version" src="https://badgen.net/npm/v/node-switchbot" ></a>
<a href="https://www.npmjs.com/package/node-switchbot"><img title="npm downloads" src="https://badgen.net/npm/dt/node-switchbot" ></a></p>
</span>
<p>The node-switchbot is a Node.js module which allows you to move your <a href="https://www.switch-bot.com/bot">Switchbot (Bot)'s</a> arm
and <a href="https://www.switch-bot.com/products/switchbot-curtain">Switchbot Curtain</a>, operate your <a href="https://www.switch-bot.com/products/switchbot-lock">Switchbot Lock</a>,
also monitor the temperature/humidity from <a href="https://www.switch-bot.com/meter">SwitchBot Thermometer &amp; Hygrometer (Meter)</a>
as well as the status from <a href="https://www.switch-bot.com/products/motion-sensor">SwitchBot Motion Sensor</a>
and <a href="https://www.switch-bot.com/products/contact-sensor">SwitchBot Contact Sensor</a></p>
<p>This module is unofficial. It was developed by reference to <a href="https://github.com/OpenWonderLabs/python-host">the official python code</a>.
But some functionalities of this module were developed through trial and error. So some information obtained from this module might be wrong.</p>
<hr>
<a id="md:table-of-contents" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Table of Contents<a href="#md:table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="#md:node-switchbot">node-switchbot</a>
<ul>
<li><a href="#md:table-of-contents">Table of Contents</a></li>
<li><a href="#md:supported-os">Supported OS</a></li>
<li><a href="#md:dependencies">Dependencies</a></li>
<li><a href="#md:installation">Installation</a></li>
<li><a href="#md:quick-start">Quick Start</a>
<ul>
<li><a href="#md:monitoring-advertising-packets">Monitoring Advertising packets</a></li>
<li><a href="#md:moving-the-arm-of-the-bot">Moving the arm of the Bot</a></li>
</ul>
</li>
<li><a href="#md:switchbot-object"><code>Switchbot</code> object</a>
<ul>
<li><a href="#md:discover-method"><code>discover()</code> method</a></li>
<li><a href="#md:ondiscover-event-handler"><code>ondiscover</code> event handler</a></li>
<li><a href="#md:startscan-method"><code>startScan()</code> method</a></li>
<li><a href="#md:stopscan-method"><code>stopScan()</code> method</a></li>
<li><a href="#md:onadvertisement-event-handler"><code>onadvertisement</code> event handler</a></li>
<li><a href="#md:wait-method"><code>wait()</code> method</a></li>
</ul>
</li>
<li><a href="#md:switchbotdevice-object"><code>SwitchbotDevice</code> object</a>
<ul>
<li><a href="#md:properties">Properties</a></li>
<li><a href="#md:getdevicename-method"><code>getDeviceName()</code> method</a></li>
<li><a href="#md:setdevicename-method"><code>setDeviceName()</code> method</a></li>
<li><a href="#md:connect-method"><code>connect()</code> method</a></li>
<li><a href="#md:disconnect-method"><code>disconnect()</code> method</a></li>
<li><a href="#md:onconnect-event-handler"><code>onconnect</code> event handler</a></li>
<li><a href="#md:ondisconnect-event-handler"><code>ondisconnect</code> event handler</a></li>
</ul>
</li>
<li><a href="#md:wohand-object"><code>WoHand</code> object</a>
<ul>
<li><a href="#md:press-method"><code>press()</code> method</a></li>
<li><a href="#md:turnon-method"><code>turnOn()</code> method</a></li>
<li><a href="#md:turnoff-method"><code>turnOff()</code> method</a></li>
<li><a href="#md:down-method"><code>down()</code> method</a></li>
<li><a href="#md:up-method"><code>up()</code> method</a></li>
</ul>
</li>
<li><a href="#md:wocurtain-object"><code>WoCurtain</code> object</a>
<ul>
<li><a href="#md:open-method"><code>open()</code> method</a></li>
<li><a href="#md:close-method"><code>close()</code> method</a></li>
<li><a href="#md:pause-method"><code>pause()</code> method</a></li>
<li><a href="#md:runtopos-method"><code>runToPos()</code> method</a></li>
</ul>
</li>
<li><a href="#md:woplugmini-object"><code>WoPlugMini</code> object</a>
<ul>
<li><a href="#md:turnon-method"><code>turnOn()</code> method</a></li>
<li><a href="#md:turnoff-method"><code>turnOff()</code> method</a></li>
<li><a href="#md:toggle-method"><code>toggle()</code> method</a></li>
</ul>
</li>
<li><a href="#md:wosmartlock-object"><code>WoSmartLock</code> object</a>
<ul>
<li><a href="#md:lock-method"><code>lock()</code> method</a></li>
<li><a href="#md:unlock-method"><code>unlock()</code> method</a></li>
<li><a href="#md:unlock_no_unlatch-method"><code>unlock_no_unlatch()</code> method</a></li>
<li><a href="#md:info-method"><code>info()</code> method</a></li>
</ul>
</li>
<li><a href="#md:advertisement-data">Advertisement data</a>
<ul>
<li><a href="#md:bot-wohand">Bot (WoHand)</a></li>
<li><a href="#md:meter-wosensorth">Meter (WoSensorTH)</a></li>
<li><a href="#md:curtain-wocurtain">Curtain (WoCurtain)</a></li>
<li><a href="#md:contact-wocontact">Contact (WoContact)</a></li>
<li><a href="#md:motion-womotion">Motion (WoMotion)</a></li>
<li><a href="#md:plugmini-woplugmini">PlugMini (WoPlugMini)</a></li>
</ul>
</li>
<li><a href="#md:release-note">Release Note</a></li>
<li><a href="#md:references">References</a></li>
<li><a href="#md:license">License</a></li>
</ul>
</li>
</ul>
<a id="md:supported-os" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Supported OS<a href="#md:supported-os" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The node-switchbot supports only Linux-based OSes, such as Raspbian, Ubuntu, and so on. This module does not support Windows and macOS for now. (If <a href="https://github.com/abandonware/noble">@abandonware/noble</a> is installed properly, this module might work well on such OSes.)</p>
<a id="md:dependencies" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Dependencies<a href="#md:dependencies" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://nodejs.org/en/">Node.js</a> 10 +</li>
<li><a href="https://github.com/abandonware/noble">@abandonware/noble</a></li>
</ul>
<p>See the document of the <a href="https://github.com/abandonware/noble">@abandonware/noble</a> for details on installing the <a href="https://github.com/abandonware/noble">@abandonware/noble</a>.</p>
<p>Note that the noble must be run as root on most of Linux environments. See the document of the <a href="https://github.com/abandonware/noble">@abandonware/noble</a> for details.</p>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Before installing the <a href="https://github.com/abandonware/noble">@abandonware/noble</a>, some linux libraries related Bluetooth as follows if the OS is Ubuntu/Debian/Raspbian.</p>
<pre><code><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">sudo</span><span class="hl-1"> </span><span class="hl-0">apt</span><span class="hl-1">-</span><span class="hl-0">get</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">bluetooth</span><span class="hl-1"> </span><span class="hl-0">bluez</span><span class="hl-1"> </span><span class="hl-0">libbluetooth</span><span class="hl-1">-</span><span class="hl-0">dev</span><span class="hl-1"> </span><span class="hl-0">libudev</span><span class="hl-1">-</span><span class="hl-0">dev</span>
</code><button>Copy</button></pre>

<p>If you use other OS, follow the instructions described in the document of the <a href="https://github.com/abandonware/noble">@abandonware/noble</a>.</p>
<p>After installing the libraries above, install the <a href="https://github.com/abandonware/noble">@abandonware/noble</a> and the node-switchbot (this module) as follows:</p>
<pre><code><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">cd</span><span class="hl-1"> ~</span><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> @</span><span class="hl-0">abandonware</span><span class="hl-1">/</span><span class="hl-0">noble</span><br/><span class="hl-0">$</span><span class="hl-1"> </span><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">node</span><span class="hl-1">-</span><span class="hl-0">switchbot</span>
</code><button>Copy</button></pre>

<hr>
<a id="md:quick-start" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Quick Start<a href="#md:quick-start" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:monitoring-advertising-packets" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Monitoring Advertising packets<a href="#md:monitoring-advertising-packets" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Monitoring the advertising packets, you can find your devices and know the latest state of each device. The packet contains the settings of the device, the arm position of the Bot, the temperature and humidity of the Meter, and so on.</p>
<pre><code class="Typescript"><span class="hl-2">// Load the node-switchbot and get a `Switchbot` constructor object</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">SwitchBot</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;node-switchbot&#39;</span><span class="hl-1">;</span><br/><span class="hl-2">// Create a `Switchbot` object</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">switchbot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">SwitchBot</span><span class="hl-1">();</span><br/><br/><span class="hl-1">(</span><span class="hl-5">async</span><span class="hl-1"> () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">// Start to monitor advertisement packets</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">startScan</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-2">// Set an event handler</span><br/><span class="hl-1">  </span><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">onadvertisement</span><span class="hl-1"> = (</span><span class="hl-0">ad</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-6">JSON</span><span class="hl-1">.</span><span class="hl-7">stringify</span><span class="hl-1">(</span><span class="hl-0">ad</span><span class="hl-1">, </span><span class="hl-5">null</span><span class="hl-1">, </span><span class="hl-4">&#39;  &#39;</span><span class="hl-1">));</span><br/><span class="hl-1">  };</span><br/><span class="hl-1">  </span><span class="hl-2">// Wait 10 seconds</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">wait</span><span class="hl-1">(</span><span class="hl-8">10000</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-2">// Stop to monitor</span><br/><span class="hl-1">  </span><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">stopScan</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">})();</span>
</code><button type="button">Copy</button></pre>

<p>The <a href="#md:startscan-method"><code>startScan()</code></a> methods starts to monitor advertisement packets. In order to receive the packets, you have to assign a callback function to the <a href="#md:Switchbot-onadvertisement-event-handler"><code>onadvertisement</code></a>.</p>
<p>The <a href="#md:Switchbot-wait-method"><code>wait()</code></a> method is just a utility method, which wait for the specified milliseconds.</p>
<p>The <a href="#md:startscan-method"><code>startScan()</code></a> and <a href="#md:Switchbot-wait-method"><code>wait()</code></a> methods are asynchronous, they return a <code>Promise</code> object. You can write code in promise style as well. What the code below does is as same as what the code above does:</p>
<pre><code class="Typescript"><span class="hl-2">// Load the node-switchbot and get a `Switchbot` constructor object</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">Switchbot</span><span class="hl-1"> = </span><span class="hl-7">require</span><span class="hl-1">(</span><span class="hl-4">&quot;node-switchbot&quot;</span><span class="hl-1">);</span><br/><span class="hl-2">// Create a `Switchbot` object</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">switchbot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Switchbot</span><span class="hl-1">();</span><br/><br/><span class="hl-2">// Start to monitor advertisement packets</span><br/><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">startScan</span><span class="hl-1">()</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">// Set an event handler</span><br/><span class="hl-1">    </span><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">onadvertisement</span><span class="hl-1"> = (</span><span class="hl-0">ad</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-6">JSON</span><span class="hl-1">.</span><span class="hl-7">stringify</span><span class="hl-1">(</span><span class="hl-0">ad</span><span class="hl-1">, </span><span class="hl-5">null</span><span class="hl-1">, </span><span class="hl-4">&quot;  &quot;</span><span class="hl-1">));</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">    </span><span class="hl-2">// Wait 10 seconds</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">wait</span><span class="hl-1">(</span><span class="hl-8">10000</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">// Stop to monitor</span><br/><span class="hl-1">    </span><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">stopScan</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<p>The sample codes above will output the result as follows:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;id&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;c12e453e2008&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;address&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;c1:2e:45:3e:20:08&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;rssi&quot;</span><span class="hl-1">: </span><span class="hl-8">-61</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;serviceData&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;H&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;modelName&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;WoHand&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;mode&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;state&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;battery&quot;</span><span class="hl-1">: </span><span class="hl-8">100</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;id&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;cb4eb903c96d&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;address&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;cb:4e:b9:03:c9:6d&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;rssi&quot;</span><span class="hl-1">: </span><span class="hl-8">-70</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;serviceData&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;T&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;modelName&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;WoSensorTH&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;temperature&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-9">&quot;c&quot;</span><span class="hl-1">: </span><span class="hl-8">25.2</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-9">&quot;f&quot;</span><span class="hl-1">: </span><span class="hl-8">77.4</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;fahrenheit&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;humidity&quot;</span><span class="hl-1">: </span><span class="hl-8">43</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;battery&quot;</span><span class="hl-1">: </span><span class="hl-8">100</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;id&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;ec58c5d00111&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;address&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;ec:58:c5:d0:01:11&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;rssi&quot;</span><span class="hl-1">: </span><span class="hl-8">-39</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;serviceData&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;c&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;modelName&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;WoCurtain&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;calibration&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;battery&quot;</span><span class="hl-1">: </span><span class="hl-8">91</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;position&quot;</span><span class="hl-1">: </span><span class="hl-8">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;lightLevel&quot;</span><span class="hl-1">: </span><span class="hl-8">1</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>See the section &quot;<a href="#md:Advertisement-data">Advertisement data</a>&quot; for the details of the advertising packets.</p>
<a id="md:moving-the-arm-of-the-bot" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Moving the arm of the Bot<a href="#md:moving-the-arm-of-the-bot" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This sample discovers a Bot (WoHand), then put the Bot's arm down, finally put it up in 5 seconds.</p>
<pre><code class="Typescript"><span class="hl-2">// Load the node-switchbot and get a `Switchbot` constructor object</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">SwitchBot</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;node-switchbot&#39;</span><span class="hl-1">;</span><br/><span class="hl-2">// Create a `Switchbot` object</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">switchbot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">SwitchBot</span><span class="hl-1">();</span><br/><br/><span class="hl-1">(</span><span class="hl-5">async</span><span class="hl-1"> () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">// Find a Bot (WoHand)</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">bot_list</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;H&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-0">bot_list</span><span class="hl-1">.</span><span class="hl-0">length</span><span class="hl-1"> === </span><span class="hl-8">0</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">throw</span><span class="hl-1"> </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">Error</span><span class="hl-1">(</span><span class="hl-4">&quot;No device was found.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-2">// The `WoHand` object representing the found Bot.</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">device</span><span class="hl-1"> = </span><span class="hl-0">bot_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">];</span><br/><span class="hl-1">  </span><span class="hl-2">// Put the Bot&#39;s arm down (stretch the arm)</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-7">down</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-2">// Wait for 5 seconds</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">wait</span><span class="hl-1">(</span><span class="hl-8">5000</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-2">// Put the Bot&#39;s arm up (retract the arm)</span><br/><span class="hl-1">  </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-7">up</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">})();</span>
</code><button type="button">Copy</button></pre>

<p>In order to manipulate the arm of your Bot, you have to discover your Bot using the <a href="#md:Switchbot-discover-method"><code>discover()</code></a> method. The object <code>{ model: 'H' }</code> passed to the method means that only Bots will be discovered. That is, Meters will be ignored.</p>
<p>In this code, you can get a <a href="#md:SwitchbotDeviceWoHand-object"><code>WoHand</code></a> object representing the found Bot. Using the <a href="#md:SwitchbotDeviceWoHand-down-method"><code>down()</code></a> and <a href="#md:SwitchbotDeviceWoHand-up-method"><code>up()</code></a> methods of the object, you can move the arm. In addition to these methods, you can use the <a href="#md:SwitchbotDeviceWoHand-press-method"><code>press()</code></a>, <a href="#md:SwitchbotDeviceWoHand-turnOn-method"><code>turnOn()</code></a>, and <a href="#md:SwitchbotDeviceWoHand-turnOff-method"><code>turnOff()</code></a> methods as well.</p>
<hr>
<a id="md:switchbot-object" class="tsd-anchor"></a><h2 class="tsd-anchor-link"><code>Switchbot</code> object<a href="#md:switchbot-object" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>In order to use the node-switchbot, you have to load the node-switchbot module as follows:</p>
<pre><code class="Typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">SwitchBot</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;node-switchbot&#39;</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<p>You can get an <code>SwitchBot</code> constructor from the code above. Then you have to create a <code>SwitchBot</code> object from the <code>SwitchBot</code> constructor as follows:</p>
<pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">switchbot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">SwitchBot</span><span class="hl-1">();</span>
</code><button type="button">Copy</button></pre>

<p>The <code>SwitchBot</code> constructor takes an argument optionally. It must be a hash object containing the properties as follows:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Required</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>noble</code></td>
<td style="text-align:left">Noble</td>
<td style="text-align:left">option</td>
<td style="text-align:left">a Noble object of the <a href="https://github.com/abandonware/noble"><code>@abandonware/noble</code></a> module</td>
</tr>
</tbody>
</table>
<p>The node-switchbot module uses the <a href="https://github.com/abandonware/noble"><code>@abandonware/noble</code></a> module in order to interact with BLE devices. If you want to interact other BLE devices using the <code>@abandonware/noble</code> module, you can create an <code>Noble</code> object by yourself, then pass it to this module. If you don't specify a <code>Noble</code> object to the <code>noble</code> property, this module automatically create a <code>Noble</code> object internally.</p>
<p>The sample code below shows how to pass a <code>Noble</code> object to the <code>Switchbot</code> constructor.</p>
<pre><code class="Typescript"><span class="hl-2">// Create a Noble object</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">noble</span><span class="hl-1"> = </span><span class="hl-7">require</span><span class="hl-1">(</span><span class="hl-4">&#39;@abandonware/noble&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">// Create a Switchbot object</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-0">SwitchBot</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-4">&#39;node-switchbot&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">switchbot</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-7">SwitchBot</span><span class="hl-1">({ </span><span class="hl-4">&#39;noble&#39;</span><span class="hl-0">:</span><span class="hl-1"> </span><span class="hl-0">noble</span><span class="hl-1"> })</span>
</code><button type="button">Copy</button></pre>

<p>In the code snippet above, the variable <code>switchbot</code> is an <code>SwitchBot</code> object. The <code>SwitchBot</code> object has a lot of methods as described in sections below.</p>
<a id="md:discover-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>discover()</code> method<a href="#md:discover-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>discover</code> method finds devices. This method returns a <code>Promise</code> object. This method takes an argument which is a hash object containing parameters as follows:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Required</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>duration</code></td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">Optional</td>
<td style="text-align:left">Duration for discovery process (msec). The default value is 5000 (msec).</td>
</tr>
<tr>
<td style="text-align:left"><code>model</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">Optional</td>
<td style="text-align:left"><code>&quot;H&quot;</code>, <code>&quot;T&quot;</code> or <code>&quot;c&quot;</code>. If <code>&quot;H&quot;</code> is specified, this method will discover only Bots. If <code>&quot;T&quot;</code> is specified, this method will discover only Meters. If <code>&quot;c&quot;</code> is specified, this method will discover only Curtains.</td>
</tr>
<tr>
<td style="text-align:left"><code>id</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">Optional</td>
<td style="text-align:left">If this value is set, this method will discover only a device whose ID is as same as this value. The ID is identical to the MAC address. This parameter is case-insensitive, and colons are ignored.</td>
</tr>
<tr>
<td style="text-align:left"><code>quick</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">Optional</td>
<td style="text-align:left">If this value is <code>true</code>, this method finishes the discovery process when the first device is found, then calls the <code>resolve()</code> function without waiting the specified <code>duration</code>. The default value is <code>false</code>.</td>
</tr>
</tbody>
</table>
<p>In the code snippet below, no parameter is passed to the method:</p>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">discover</span><span class="hl-1">().</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">// Do something...</span><br/><span class="hl-1">}).</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>If no parameter is passed to the method as the code above, an <code>Array</code> object will be passed to the <code>resolve()</code> function in 5 seconds. The <code>Array</code> object contains <a href="#md:SwitchbotDevice-object"><code>SwitchbotDevice</code></a> objects representing the found devices. See the section &quot;<a href="#md:SwitchbotDevice-object"><code>SwitchbotDevice</code></a> objects&quot; for more details.</p>
<p>If you want a quick response, you can set the <code>quick</code> property to <code>true</code>.</p>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">discover</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">duration:</span><span class="hl-1"> </span><span class="hl-8">5000</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><br/><span class="hl-1">}).</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">// Do something...</span><br/><span class="hl-1">}).</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>As the <code>quick</code> property is set to <code>true</code>, the <code>resolve()</code> function will be called immediately after a device is found regardless the value of the <code>duration</code> property.</p>
<a id="md:ondiscover-event-handler" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>ondiscover</code> event handler<a href="#md:ondiscover-event-handler" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>ondiscover</code> property on the <a href="#md:Switchbot-object"><code>Switchbot</code></a> object is an event handler called whenever a device is newly found in the discovery process. A <a href="#md:SwitchbotDevice-object"><code>SwitchbotDevice</code></a> object is passed to the callback function set to the <code>ondiscover</code> property.</p>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">ondiscover</span><span class="hl-1"> = (</span><span class="hl-0">device</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-0">id</span><span class="hl-1"> + </span><span class="hl-4">&#39; (&#39;</span><span class="hl-1"> + </span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-0">modelName</span><span class="hl-1"> + </span><span class="hl-4">&#39;)&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">discover</span><span class="hl-1">().</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&#39;The discovery process was finished.&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}).</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>The code snippet above will output the result as follows:</p>
<pre><code><span class="hl-7">cb4eb903c96d</span><span class="hl-1"> (</span><span class="hl-0">WoSensorTH</span><span class="hl-1">)</span><br/><span class="hl-7">c12e453e2008</span><span class="hl-1"> (</span><span class="hl-0">WoHand</span><span class="hl-1">)</span><br/><span class="hl-0">The</span><span class="hl-1"> </span><span class="hl-0">discovery</span><span class="hl-1"> </span><span class="hl-0">process</span><span class="hl-1"> </span><span class="hl-0">was</span><span class="hl-1"> </span><span class="hl-0">finished</span><span class="hl-1">.</span>
</code><button>Copy</button></pre>

<a id="md:startscan-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>startScan()</code> method<a href="#md:startscan-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>startScan()</code> method starts to scan advertising packets coming from devices. This method takes an argument which is a hash object containing the parameters as follows:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Required</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>model</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">Optional</td>
<td style="text-align:left"><code>&quot;H&quot;</code>, <code>&quot;T&quot;</code>, <code>&quot;c&quot;</code>, <code>&quot;g&quot;</code> or <code>&quot;j&quot;</code>. If <code>&quot;H&quot;</code> is specified, this method will discover only Bots. If <code>&quot;T&quot;</code> is specified, this method will discover only Meters. If <code>&quot;c&quot;</code> is specified, this method will discover only Curtains. If <code>&quot;g&quot;</code> or <code>&quot;j&quot;</code> is specified, this method will discover only (US/JP) Plug Minis.</td>
</tr>
<tr>
<td style="text-align:left"><code>id</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">Optional</td>
<td style="text-align:left">If this value is set, this method will discover only a device whose ID is as same as this value. The ID is identical to the MAC address. This value is case-insensitive, and colons are ignored.</td>
</tr>
</tbody>
</table>
<p>Whenever a packet is received, the callback function set to the <a href="#md:Switchbot-onadvertisement-event-handler"><code>onadvertisement</code></a> property of the <a href="#md:Switchbot-object"><code>Switchbot</code></a> object will be called. When a packet is received, a hash object representing the packet will be passed to the callback function.</p>
<pre><code class="Typescript"><span class="hl-2">// Set a callback function called when a packet is received</span><br/><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">onadvertisement</span><span class="hl-1"> = (</span><span class="hl-0">ad</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">ad</span><span class="hl-1">);</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-2">// Start to scan advertising packets</span><br/><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">startScan</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">id:</span><span class="hl-1"> </span><span class="hl-4">&#39;cb:4e:b9:03:c9:6d&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">}).</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">// Wait for 30 seconds</span><br/><span class="hl-1">  </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">wait</span><span class="hl-1">(</span><span class="hl-8">30000</span><span class="hl-1">);</span><br/><span class="hl-1">}).</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-2">// Stop to scan</span><br/><span class="hl-1">  </span><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">stopScan</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">}).</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>The code snippet above will output the result as follows:</p>
<pre><code><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-10">id</span><span class="hl-1">: </span><span class="hl-4">&#39;cb4eb903c96d&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">address</span><span class="hl-1">: </span><span class="hl-4">&#39;cb:4e:b9:03:c9:6d&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">rssi</span><span class="hl-1">: -</span><span class="hl-8">65</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">serviceData</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-10">model</span><span class="hl-1">: </span><span class="hl-4">&#39;T&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">modelName</span><span class="hl-1">: </span><span class="hl-4">&#39;WoSensorTH&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">temperature</span><span class="hl-1">: { </span><span class="hl-10">c</span><span class="hl-1">: </span><span class="hl-8">25.8</span><span class="hl-1">, </span><span class="hl-10">f</span><span class="hl-1">: </span><span class="hl-8">78.4</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-10">fahrenheit</span><span class="hl-1">: </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">humidity</span><span class="hl-1">: </span><span class="hl-8">43</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">battery</span><span class="hl-1">: </span><span class="hl-8">100</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><span class="hl-1">...</span>
</code><button>Copy</button></pre>

<p>The <code>serviceData</code> property depends on the model of the device. See the section &quot;<a href="#md:Advertisement-data">Advertisement data</a>&quot; for the details of the data format.</p>
<a id="md:stopscan-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>stopScan()</code> method<a href="#md:stopscan-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>stopScan()</code> method stops to scan advertising packets coming from devices. This method returns nothing. Note that this method is <em>not</em> asynchronous but synchronous unlike the other methods. See the section &quot;<a href="#md:startscan-method"><code>startScan()</code> method</a>&quot; for details.</p>
<a id="md:onadvertisement-event-handler" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>onadvertisement</code> event handler<a href="#md:onadvertisement-event-handler" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If a callback function is set to the <code>onadvertisement</code> property, the callback function will be called whenever an advertising packet is received from a device during the scan is active (from the moment when the <a href="#md:startscan-method"><code>startScan()</code></a> method is called, to the moment when the <a href="#md:Switchbot-stopScan-method"><code>stopScan()</code></a> method is called).</p>
<p>See the section &quot;<a href="#md:startscan-method"><code>startScan()</code> method</a>&quot; for details.</p>
<a id="md:wait-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>wait()</code> method<a href="#md:wait-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>wait()</code> method waits for the specified milliseconds. This method takes an integer representing the duration (millisecond). This method returns a <code>Promise</code> object.</p>
<p>This method has nothing to do with Switchbot devices. It's just a utility method. See the section &quot;<a href="#md:Quick-Start">Quick Start</a>&quot; for details of the usage of this method.</p>
<hr>
<a id="md:switchbotdevice-object" class="tsd-anchor"></a><h2 class="tsd-anchor-link"><code>SwitchbotDevice</code> object<a href="#md:switchbotdevice-object" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>SwitchbotDevice</code> object represents a Switchbot device (Bot, Meter, Curtain, Contact or Motion), which is created through the discovery process triggered by the <a href="#md:Switchbot-discover-method"><code>Switchbot.discover()</code></a> method.</p>
<p>Actually, the <code>SwitchbotDevice</code> object is a super class of the <a href="#md:SwitchbotDeviceWoHand-object"><code>WoHand</code></a> and <code>WoSensorTH</code> objects. The <a href="#md:SwitchbotDeviceWoHand-object"><code>WoHand</code></a> object represents a Bot, the <code>WoSensorTH</code> object represents a Meter.</p>
<p>You can use the properties and methods described in this section on Bot, Meter, Curtain, Contact and Motion. See the section &quot;<a href="#md:SwitchbotDeviceWoHand-object"><code>WoHand</code> object</a>&quot; for the details of the functionalities available only on Bot. For now, <code>WoSensorTH</code> object has no additional functionality.</p>
<a id="md:properties" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Properties<a href="#md:properties" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>SwitchbotDevice</code> object supports the properties as follows:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>id</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">ID of the device. (e.g., <code>&quot;cb4eb903c96d&quot;</code>)</td>
</tr>
<tr>
<td style="text-align:left"><code>address</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">MAC address of the device. Basically it is as same as the value of the <code>id</code> except that this value includes <code>:</code> in the string. (e.g., <code>&quot;cb:4e:b9:03:c9:6d&quot;</code>)</td>
</tr>
<tr>
<td style="text-align:left"><code>model</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is <code>&quot;H&quot;</code> &quot;Bot (WoHand)&quot;, <code>&quot;T&quot;</code> &quot;Meter (WoSensorTH)&quot;, <code>&quot;c&quot;</code> &quot;Curtain (WoCurtain)&quot;, <code>&quot;d&quot;</code> &quot;Contact (WoContact)&quot; or <code>&quot;s&quot;</code> &quot;Motion (WoMotion)&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>modelName</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is <code>&quot;WoHand&quot;</code>, <code>&quot;WoSensorTH&quot;</code>, <code>WoCurtain</code>, <code>WoContect</code> or <code>WoMotion</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>connectionState</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value indicates the BLE connection state. <code>&quot;connecting&quot;</code>, <code>&quot;connected&quot;</code>, <code>&quot;disconnecting&quot;</code>, or <code>&quot;disconnected&quot;</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>onconnect</code></td>
<td style="text-align:left">Function</td>
<td style="text-align:left">See the section &quot;<a href="#md:SwitchbotDevice-onconnect-event-handler"><code>onconnect</code> event handler</a>&quot; for details.</td>
</tr>
<tr>
<td style="text-align:left"><code>ondisconnect</code></td>
<td style="text-align:left">Function</td>
<td style="text-align:left">See the section &quot;<a href="#md:SwitchbotDevice-ondisconnect-event-handler"><code>ondisconnect</code> event handler</a>&quot; for details.</td>
</tr>
</tbody>
</table>
<a id="md:getdevicename-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>getDeviceName()</code> method<a href="#md:getdevicename-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>getDeviceName()</code> method fetches the device name saved in the device. This method returns a <code>Promise</code> object.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<p>If the device name is fetched successfully, the device name will be passed to the <code>resolve()</code>.</p>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;H&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-7">getDeviceName</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">name</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">name</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<p>The code above will output the result as follows:</p>
<pre><code class="Typescript"><span class="hl-0">WoHand</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

<a id="md:setdevicename-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>setDeviceName()</code> method<a href="#md:setdevicename-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>setDeviceName()</code> method update the device name saved in the device with the name specified as the first argument. This method returns a <code>Promise</code> object. Nothing will be passed to the <code>resolve()</code> function.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<p>The character set of the device name saved in the device is UTF-8. The byte length of the name must be less than or equal to 20 bytes. If the name consists of only ASCII characters, up to 20 characters would be allowed. But if the name consists of multibyte characters, the upper limit of characters would be fewer than half. For example, Japanese characters could be saved at most 6 characters because most of Japanese characters consume 3 byte per each character.</p>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;H&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-7">setDeviceName</span><span class="hl-1">(</span><span class="hl-4">&quot;Bot in kitchen&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Done.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<a id="md:connect-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>connect()</code> method<a href="#md:connect-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>connect()</code> method establishes a connection with the device (i.e., pairing). This method returns a <code>Promise</code> object. If the device has already been connected, this method does nothing and calls the <code>resolve()</code> function immediately.</p>
<p>Most of the methods implemented in the <code>SwitchbotDevice</code> object automatically connect and disconnect the device. But this mechanism would be absolutely inefficient if you want to manipulate the device repeatedly in the short time.</p>
<p>The connection established using the <code>connect()</code> method is not disconnected automatically unless the <a href="#md:SwitchbotDevice-disconnect-method"><code>disconnect()</code></a> method is explicitly called.</p>
<p>The code snippet below establishes a connection with the Bot using the <code>connect()</code> method, then puts the Bot's arm down, then waits for 5 seconds, then puts the arm down, finally disconnects the device using the <a href="#md:SwitchbotDevice-disconnect-method"><code>disconnect()</code></a> method:</p>
<pre><code class="Typescript"><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-0">device</span><span class="hl-1"> = </span><span class="hl-5">null</span><span class="hl-1">;</span><br/><br/><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;H&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">device</span><span class="hl-1"> = </span><span class="hl-0">device_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">];</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (!</span><span class="hl-0">device</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;No device was found.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-0">modelName</span><span class="hl-1"> + </span><span class="hl-4">&quot; (&quot;</span><span class="hl-1"> + </span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-0">address</span><span class="hl-1"> + </span><span class="hl-4">&quot;) was found.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Connecting...&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-7">connect</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Putting the arm down...&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-7">down</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Waiting for 5 seconds...&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">switchbot</span><span class="hl-1">.</span><span class="hl-7">wait</span><span class="hl-1">(</span><span class="hl-8">5000</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Putting the arm up...&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-7">up</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Disconnecting...&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-7">disconnect</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Done.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<p>The result will be as follows:</p>
<pre><code><span class="hl-7">WoHand</span><span class="hl-1"> (</span><span class="hl-0">c1</span><span class="hl-1">:2</span><span class="hl-0">e</span><span class="hl-1">:</span><span class="hl-8">45</span><span class="hl-1">:3</span><span class="hl-0">e</span><span class="hl-1">:</span><span class="hl-8">20</span><span class="hl-1">:</span><span class="hl-8">08</span><span class="hl-1">) </span><span class="hl-0">was</span><span class="hl-1"> </span><span class="hl-0">found</span><span class="hl-1">.</span><br/><span class="hl-0">Connecting</span><span class="hl-1">...</span><br/><span class="hl-0">Putting</span><span class="hl-1"> </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-0">arm</span><span class="hl-1"> </span><span class="hl-0">down</span><span class="hl-1">...</span><br/><span class="hl-0">Waiting</span><span class="hl-1"> </span><span class="hl-0">for</span><span class="hl-1"> </span><span class="hl-8">5</span><span class="hl-1"> </span><span class="hl-0">seconds</span><span class="hl-1">...</span><br/><span class="hl-0">Putting</span><span class="hl-1"> </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-0">arm</span><span class="hl-1"> </span><span class="hl-0">up</span><span class="hl-1">...</span><br/><span class="hl-0">Disconnecting</span><span class="hl-1">...</span><br/><span class="hl-0">Done</span><span class="hl-1">.</span>
</code><button>Copy</button></pre>

<a id="md:disconnect-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>disconnect()</code> method<a href="#md:disconnect-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>disconnect()</code> method disconnects the device. This method returns a <code>Promise</code> object. If the device has already been disconnected, this method does nothing and calls the <code>resolve()</code> function immediately.</p>
<p>See the <a href="#md:SwitchbotDevice-connect-method">previous section</a> for more details.</p>
<a id="md:onconnect-event-handler" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>onconnect</code> event handler<a href="#md:onconnect-event-handler" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>onconnect</code> event handler will be called when the connection with the device is established. Nothing will be passed to the handler.</p>
<p>The code below calls the <a href="#md:SwitchbotDeviceWoHand-press-method"><code>press()</code></a> method, while callback functions are attached to the <code>onconnect</code> and <code>ondisconnect</code>.</p>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;H&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">device</span><span class="hl-1"> = </span><span class="hl-0">device_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">];</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (!</span><span class="hl-0">device</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;No device was found.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-0">modelName</span><span class="hl-1"> + </span><span class="hl-4">&quot; (&quot;</span><span class="hl-1"> + </span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-0">address</span><span class="hl-1"> + </span><span class="hl-4">&quot;) was found.&quot;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-2">// Set event handers</span><br/><span class="hl-1">    </span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-7">onconnect</span><span class="hl-1"> = () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Connected.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    };</span><br/><span class="hl-1">    </span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-7">ondisconnect</span><span class="hl-1"> = () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Disconnected.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    };</span><br/><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Pressing the switch...&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device</span><span class="hl-1">.</span><span class="hl-7">press</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Done.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-0">process</span><span class="hl-1">.</span><span class="hl-7">exit</span><span class="hl-1">();</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<p>The code above will output the result as follows:</p>
<pre><code><span class="hl-7">WoHand</span><span class="hl-1"> (</span><span class="hl-0">c1</span><span class="hl-1">:2</span><span class="hl-0">e</span><span class="hl-1">:</span><span class="hl-8">45</span><span class="hl-1">:3</span><span class="hl-0">e</span><span class="hl-1">:</span><span class="hl-8">20</span><span class="hl-1">:</span><span class="hl-8">08</span><span class="hl-1">) </span><span class="hl-0">was</span><span class="hl-1"> </span><span class="hl-0">found</span><span class="hl-1">.</span><br/><span class="hl-0">Pressing</span><span class="hl-1"> </span><span class="hl-0">the</span><span class="hl-1"> </span><span class="hl-3">switch</span><span class="hl-1">...</span><br/><span class="hl-0">Connected</span><span class="hl-1">.</span><br/><span class="hl-0">Disconnected</span><span class="hl-1">.</span><br/><span class="hl-0">Done</span><span class="hl-1">.</span>
</code><button>Copy</button></pre>

<p>Seeing the result, you would find the <a href="#md:SwitchbotDeviceWoHand-press-method"><code>press()</code></a> method automatically connects and disconnects the device.</p>
<a id="md:ondisconnect-event-handler" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>ondisconnect</code> event handler<a href="#md:ondisconnect-event-handler" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>ondisconnect</code> event handler will be called when the connection with the device is closed. Nothing will be passed to the handler. See the previous section &quot;<a href="#md:SwitchbotDevice-onconnect-event-handler"><code>onconnect</code> event handler</a>&quot; for more details.</p>
<hr>
<a id="md:wohand-object" class="tsd-anchor"></a><h2 class="tsd-anchor-link"><code>WoHand</code> object<a href="#md:wohand-object" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>WoHand</code> object represents a Bot, which is created through the discovery process triggered by the <a href="#md:Switchbot-discover-method"><code>Switchbot.discover()</code></a> method.</p>
<p>Actually, the <code>WoHand</code> is an object inherited from the <a href="#md:SwitchbotDevice-object"><code>SwitchbotDevice</code></a>. You can use not only the method described in this section but also the properties and methods implemented in the <a href="#md:SwitchbotDevice-object"><code>SwitchbotDevice</code></a> object.</p>
<a id="md:press-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>press()</code> method<a href="#md:press-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>press()</code> method sends a press command to the Bot. This method returns a <code>Promise</code> object. Nothing will be passed to the <code>resove()</code>.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;H&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-7">press</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Done.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<p>When the Bot receives this command, the Bot's arm will be put down (stretched), then put up (retracted) in a few seconds.</p>
<a id="md:turnon-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>turnOn()</code> method<a href="#md:turnon-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>turnOn()</code> method sends a turn-on command to the Bot. This method returns a <code>Promise</code> object. Nothing will be passed to the <code>resove()</code>.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<p>When the Bot receives this command, the Bot's arm will be put down (stretched) or put up (retracted) depending on the mode setting.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Mode</th>
<th style="text-align:left">Inverse the on/off direction</th>
<th style="text-align:left">Physical position of the arm</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Press mode</td>
<td style="text-align:left">N/A</td>
<td style="text-align:left">Down (stretched), then Up (retracted)</td>
</tr>
<tr>
<td style="text-align:left">Switch mode</td>
<td style="text-align:left">Disabled</td>
<td style="text-align:left">Down (stretched)</td>
</tr>
<tr>
<td style="text-align:left"> </td>
<td style="text-align:left">Enabled</td>
<td style="text-align:left">Up (retracted)</td>
</tr>
</tbody>
</table>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;H&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-7">turnOn</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Done.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<a id="md:turnoff-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>turnOff()</code> method<a href="#md:turnoff-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>turnOff()</code> method sends a turn-off command to the Bot. This method returns a <code>Promise</code> object. Nothing will be passed to the <code>resove()</code>.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<p>When the Bot receives this command, the Bot's arm will be put down (stretched) or put up (retracted) depending on the mode setting.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Mode</th>
<th style="text-align:left">Inverse the on/off direction</th>
<th style="text-align:left">Physical position of the arm</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Press mode</td>
<td style="text-align:left">N/A</td>
<td style="text-align:left">Down (stretched), then Up (retracted)</td>
</tr>
<tr>
<td style="text-align:left">Switch mode</td>
<td style="text-align:left">Disabled</td>
<td style="text-align:left">Up (retracted)</td>
</tr>
<tr>
<td style="text-align:left"> </td>
<td style="text-align:left">Enabled</td>
<td style="text-align:left">Down (stretched)</td>
</tr>
</tbody>
</table>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;H&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-7">turnOff</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Done.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<a id="md:down-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>down()</code> method<a href="#md:down-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>down()</code> method sends a down command to the Bot. This method returns a <code>Promise</code> object. Nothing will be passed to the <code>resove()</code>.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<p>When the Bot receives this command, the Bot's arm will be put down (stretched) regardless of the mode setting.</p>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;H&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-7">down</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Done.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<a id="md:up-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>up()</code> method<a href="#md:up-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>up()</code> method sends an up command to the Bot. This method returns a <code>Promise</code> object. Nothing will be passed to the <code>resove()</code>.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<p>When the Bot receives this command, the Bot's arm will be put up (retracted) regardless of the mode setting.</p>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;H&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-7">up</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Done.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:wocurtain-object" class="tsd-anchor"></a><h2 class="tsd-anchor-link"><code>WoCurtain</code> object<a href="#md:wocurtain-object" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>WoCurtain</code> object represents a Curtain, which is created through the discovery process triggered by the <a href="#md:Switchbot-discover-method"><code>Switchbot.discover()</code></a> method.</p>
<p>Actually, the <code>WoCurtain</code> is an object inherited from the <a href="#md:SwitchbotDevice-object"><code>SwitchbotDevice</code></a>. You can use not only the method described in this section but also the properties and methods implemented in the <a href="#md:SwitchbotDevice-object"><code>SwitchbotDevice</code></a> object.</p>
<a id="md:open-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>open()</code> method<a href="#md:open-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>open()</code> method sends an open command to the Curtain. This method returns a <code>Promise</code> object. Nothing will be passed to the <code>resove()</code>.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<p>When the Curtain receives this command, the Curtain will open the curtain (0% position). If not calibrated, the Curtain does not move.</p>
<p>The <code>open()</code> method receives an optional <code>mode</code> parameter. (See <a href="#md:runtopos-method"><code>runToPos()</code></a>)</p>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;c&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-7">open</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Done.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<a id="md:close-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>close()</code> method<a href="#md:close-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>close()</code> method sends a close command to the Curtain. This method returns a <code>Promise</code> object. Nothing will be passed to the <code>resove()</code>.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<p>When the Curtain receives this command, the Curtain will close the curtain (100% position). If not calibrated, the Curtain does not move.</p>
<p>The <code>close()</code> method receives an optional <code>mode</code> parameter. (See <a href="#md:runtopos-method"><code>runToPos()</code></a>)</p>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;c&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-7">close</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Done.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<a id="md:pause-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>pause()</code> method<a href="#md:pause-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>pause()</code> method sends a pause command to the Curtain. This method returns a <code>Promise</code> object. Nothing will be passed to the <code>resove()</code>.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<p>When the Curtain receives this command, the Curtain will pause.</p>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;c&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-7">pause</span><span class="hl-1">();</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Done.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<a id="md:runtopos-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>runToPos()</code> method<a href="#md:runtopos-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>runToPos()</code> method sends a position command to the Curtain. This method returns a <code>Promise</code> object. Nothing will be passed to the <code>resove()</code>.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<p>When the Curtain receives this command, the Curtain will run to the percentage position. If not calibrated, the Curtain does not move.</p>
<p>The <code>open()</code> method sends an open command to the Curtain. This method returns a <code>Promise</code> object. Nothing will be passed to the <code>resove()</code>.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<p>When the Curtain receives this command, the Curtain will open the curtain (0% position). If not calibrated, the Curtain does not move.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Required</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>percent</code></td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">Required</td>
<td style="text-align:left">The percentage of target position (<code>0-100</code>). (e.g., <code>50</code>)</td>
</tr>
<tr>
<td style="text-align:left"><code>mode</code></td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">Optional</td>
<td style="text-align:left">The running mode of Curtain. <br/><code>0x00</code> - Performance mode.<br/> <code>0x01</code> - Silent mode. <br/><code>0xff</code> - Default. Unspecified, from Curtain's settings.</td>
</tr>
</tbody>
</table>
<pre><code class="Typescript"><span class="hl-0">switchbot</span><br/><span class="hl-1">  .</span><span class="hl-7">discover</span><span class="hl-1">({ </span><span class="hl-0">model:</span><span class="hl-1"> </span><span class="hl-4">&quot;c&quot;</span><span class="hl-1">, </span><span class="hl-0">quick:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">((</span><span class="hl-0">device_list</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-0">device_list</span><span class="hl-1">[</span><span class="hl-8">0</span><span class="hl-1">].</span><span class="hl-7">runToPos</span><span class="hl-1">(</span><span class="hl-8">50</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">then</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">log</span><span class="hl-1">(</span><span class="hl-4">&quot;Done.&quot;</span><span class="hl-1">);</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-7">catch</span><span class="hl-1">((</span><span class="hl-0">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-7">error</span><span class="hl-1">(</span><span class="hl-0">error</span><span class="hl-1">);</span><br/><span class="hl-1">  });</span>
</code><button type="button">Copy</button></pre>

<hr>
<a id="md:woplugmini-object" class="tsd-anchor"></a><h2 class="tsd-anchor-link"><code>WoPlugMini</code> object<a href="#md:woplugmini-object" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>WoPlugMini </code> object represents a PlugMini, which is created through the discovery process triggered by the <a href="#md:Switchbot-discover-method"><code>Switchbot.discover()</code></a> method.</p>
<p>Actually, the <code>WoPlugMini </code> is an object inherited from the <a href="#md:SwitchbotDevice-object"><code>SwitchbotDevice</code></a>. You can use not only the method described in this section but also the properties and methods implemented in the <a href="#md:SwitchbotDevice-object"><code>SwitchbotDevice</code></a> object.</p>
<a id="md:turnon-method-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>turnOn()</code> method<a href="#md:turnon-method-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>turnOn()</code> method sends a turn-on command to the PlugMini. This method returns a <code>Promise</code> object. A <code>boolean</code> value indicating whether the PlugMini is on (<code>true</code>), is passed to the <code>resolve()</code> method of the Promise.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<a id="md:turnoff-method-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>turnOff()</code> method<a href="#md:turnoff-method-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>turnOff()</code> method sends a turn-off command to the PlugMini. This method returns a <code>Promise</code> object. A <code>boolean</code> value indicating whether the PlugMini is off (<code>false</code>), is passed to the <code>resolve()</code> method of the Promise.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<a id="md:toggle-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>toggle()</code> method<a href="#md:toggle-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>toggle()</code> method sends a toggle command to the PlugMini, toggling between the on and off state. This method returns a <code>Promise</code> object. A <code>boolean</code> value indicating whether the PlugMini is on (<code>true</code>) or off (<code>false</code>), is passed to the <code>resolve()</code> method of the Promise.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<hr>
<hr>
<a id="md:wosmartlock-object" class="tsd-anchor"></a><h2 class="tsd-anchor-link"><code>WoSmartLock</code> object<a href="#md:wosmartlock-object" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>WoSmartLock </code> object represents a SmartLock, which is created through the discovery process triggered by the <a href="#md:Switchbot-discover-method"><code>Switchbot.discover()</code></a> method.</p>
<p>Actually, the <code>WoSmartLock </code> is an object inherited from the <a href="#md:SwitchbotDevice-object"><code>SwitchbotDevice</code></a>. You can use not only the method described in this section but also the properties and methods implemented in the <a href="#md:SwitchbotDevice-object"><code>SwitchbotDevice</code></a> object.</p>
<a id="md:setkey-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>setKey()</code> method<a href="#md:setkey-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>setKey()</code> method initialises the key information required for encrypted communication with the SmartLock</p>
<p>This must be set before any control commands are sent to the device. To obtain the key information you will need to use an external tool - see <a href="https://github.com/Danielhiversen/pySwitchbot/tree/master?tab=readme-ov-file#obtaining-locks-encryption-key"><code>pySwitchbot</code></a> project for an example script.</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>keyId</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">unique2 character ID for the key. (e.g., <code>&quot;ff&quot;</code>) returned from the SwitchBot api for your device</td>
</tr>
<tr>
<td style="text-align:left"><code>encryptionKey</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">the unique encryption key returned from the SwitchBot api for your device</td>
</tr>
</tbody>
</table>
<a id="md:lock-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>lock()</code> method<a href="#md:lock-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>lock()</code> method sends a lock command to the SmartLock. This method returns a <code>Promise</code> object. A <code>boolean</code> value indicating whether the SmartLock is locked (<code>true</code>), is passed to the <code>resolve()</code> method of the Promise.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<a id="md:unlock-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>unlock()</code> method<a href="#md:unlock-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>unlock()</code> method sends an unlock command to the SmartLock. This method returns a <code>Promise</code> object. A <code>boolean</code> value indicating whether the SmartLock is locked (<code>false</code>), is passed to the <code>resolve()</code> method of the Promise.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<a id="md:unlocknounlatch-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>unlockNoUnlatch()</code> method<a href="#md:unlocknounlatch-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>unlockNoUnlatch()</code> method sends a partial unlock command to the SmartLock, unlocking without the full unlatch.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<a id="md:info-method" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code>info()</code> method<a href="#md:info-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>info()</code> method retreieves state information from the SmartLock, This method returns a <code>Promise</code> object. An <code>object</code> value indicating with the state infor, is passed to the <code>resolve()</code> method of the Promise.</p>
<p>If no connection is established with the device, this method automatically establishes a connection with the device, then finally closes the connection. You don't have to call the <a href="#md:SwitchbotDevice-connect-method"><code>connect()</code></a> method in advance.</p>
<a id="md:advertisement-data" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Advertisement data<a href="#md:advertisement-data" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>After the <a href="#md:startscan-method"><code>startScan()</code></a> method is invoked, the <a href="#md:Switchbot-onadvertisement-event-handler"><code>onadvertisement</code></a> event handler will be called whenever an advertising packet comes from the switchbot devices. An object containing the properties as follows will be passed to the event handler:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>id</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">ID of the device. (e.g., <code>&quot;cb4eb903c96d&quot;</code>)</td>
</tr>
<tr>
<td style="text-align:left"><code>address</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">MAC address of the device. Basically it is as same as the value of the <code>id</code> except that this value includes <code>:</code> in the string. (e.g., <code>&quot;cb:4e:b9:03:c9:6d&quot;</code>)</td>
</tr>
<tr>
<td style="text-align:left"><code>rssi</code></td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">RSSI. (e.g., <code>-62</code>)</td>
</tr>
<tr>
<td style="text-align:left"><code>serviceData</code></td>
<td style="text-align:left">Object</td>
<td style="text-align:left">An object including the device-specific data.</td>
</tr>
</tbody>
</table>
<p>The structures of the <code>serviceData</code> are described in the following sections.</p>
<a id="md:bot-wohand" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Bot (WoHand)<a href="#md:bot-wohand" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Example of the advertisement data:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;id&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;c12e453e2008&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;address&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;c1:2e:45:3e:20:08&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;rssi&quot;</span><span class="hl-1">: </span><span class="hl-8">-61</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;serviceData&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;H&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;modelName&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;WoHand&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;mode&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;state&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;battery&quot;</span><span class="hl-1">: </span><span class="hl-8">100</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Structure of the <code>serviceData</code>:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>model</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is always <code>&quot;H&quot;</code>, which means &quot;Bot (WoHand)&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>modelName</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is always <code>&quot;WoHand&quot;</code>, which means &quot;Bot&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>mode</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">This indicates the mode setting. When the mode is &quot;Switch mode&quot;, this value is <code>true</code>. When the mode is &quot;Press mode&quot;, this value is <code>false</code>.</td>
</tr>
<tr>
<td style="text-align:left"><code>state</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">This value indicates whether the switch status is ON or OFF.</td>
</tr>
<tr>
<td style="text-align:left"><code>battery</code></td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">(<strong>experimental</strong>) This value indicates the battery level (<code>%</code>).</td>
</tr>
</tbody>
</table>
<p>The <code>mode</code> can be changed only using the official smartphone app. The node-switchbot does not support changing the mode because the BLE protocol is non-public.</p>
<p>If the <code>mode</code> is <code>false</code>, which means the &quot;Press mode&quot; is selected, the <code>state</code> is always <code>false</code>. If the <code>mode</code> is <code>true</code>, which means the &quot;Switch mode&quot; is selected, the <code>state</code> represents the logical state (ON or OFF). Note that it does <em>not</em> mean the physical arm position. The physical arm position depends on the setting &quot;Inverse the on/off direction&quot; on the official smartphone app.</p>
<table>
<thead>
<tr>
<th style="text-align:left">&quot;Inverse the on/off direction&quot;</th>
<th style="text-align:left">Value of the <code>state</code></th>
<th style="text-align:left">Logical state</th>
<th style="text-align:left">Physical arm position</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">disabled</td>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left">OFF</td>
<td style="text-align:left">Up (retracted)</td>
</tr>
<tr>
<td style="text-align:left"> </td>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left">ON</td>
<td style="text-align:left">Down (stretched)</td>
</tr>
<tr>
<td style="text-align:left">enabled</td>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left">OFF</td>
<td style="text-align:left">Down (stretched)</td>
</tr>
<tr>
<td style="text-align:left"> </td>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left">ON</td>
<td style="text-align:left">Up (retracted)</td>
</tr>
</tbody>
</table>
<p>The <code>battery</code> is <em>experimental</em> for now. I'm not sure whether the value is correct or not. Never trust this value for now.</p>
<a id="md:meter-wosensorth" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Meter (WoSensorTH)<a href="#md:meter-wosensorth" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Example of the advertisement data:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;id&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;cb4eb903c96d&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;address&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;cb:4e:b9:03:c9:6d&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;rssi&quot;</span><span class="hl-1">: </span><span class="hl-8">-70</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;serviceData&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;T&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;modelName&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;WoSensorTH&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;temperature&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">      </span><span class="hl-9">&quot;c&quot;</span><span class="hl-1">: </span><span class="hl-8">25.2</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-9">&quot;f&quot;</span><span class="hl-1">: </span><span class="hl-8">77.4</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;fahrenheit&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;humidity&quot;</span><span class="hl-1">: </span><span class="hl-8">43</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;battery&quot;</span><span class="hl-1">: </span><span class="hl-8">100</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Structure of the <code>data</code>:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>model</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is always <code>&quot;T&quot;</code>, which means &quot;Meter (WoSensorTH)&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>modelName</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is always <code>&quot;WoSensorTH&quot;</code>, which means &quot;Meter&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>temperature</code></td>
<td style="text-align:left">Object</td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">   <code>c</code></td>
<td style="text-align:left">Float</td>
<td style="text-align:left">Temperature (degree Celsius/°C)</td>
</tr>
<tr>
<td style="text-align:left">   <code>f</code></td>
<td style="text-align:left">Float</td>
<td style="text-align:left">Temperature (degree Fahrenheit/℉)</td>
</tr>
<tr>
<td style="text-align:left"><code>fahrenheit</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">The flag whether the Meter shows Fahrenheit (<code>true</code>) or Celsius (<code>false</code>) for the temperature on the display</td>
</tr>
<tr>
<td style="text-align:left"><code>humidity</code></td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">Humidity (<code>%</code>)</td>
</tr>
<tr>
<td style="text-align:left"><code>battery</code></td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">(<strong>experimental</strong>) This value indicates the battery level (<code>%</code>).</td>
</tr>
</tbody>
</table>
<p>The <code>fahrenheit</code> indicates the setting on the device. Note that it does <em>not</em> indicate the setting on the official smartphone app. The setting of the temperature unit on the device and the setting on the app are independent.</p>
<p>The <code>battery</code> is <em>experimental</em> for now. I'm not sure whether the value is correct or not. Never trust this value for now.</p>
<a id="md:curtain-wocurtain" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Curtain (WoCurtain)<a href="#md:curtain-wocurtain" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Example of the advertisement data:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;id&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;ec58c5d00111&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;address&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;ec:58:c5:d0:01:11&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;rssi&quot;</span><span class="hl-1">: </span><span class="hl-8">-39</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;serviceData&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;c&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;modelName&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;WoCurtain&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;calibration&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;battery&quot;</span><span class="hl-1">: </span><span class="hl-8">91</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;position&quot;</span><span class="hl-1">: </span><span class="hl-8">1</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;lightLevel&quot;</span><span class="hl-1">: </span><span class="hl-8">1</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Structure of the <code>serviceData</code>:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>model</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is <code>&quot;c&quot;</code>, which means &quot;Curtain (WoCurtain)&quot;.</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left">or <code>&quot;{&quot;</code>, which means &quot;Curtain 3 (WoCurtain)&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>modelName</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is always <code>&quot;WoCurtain&quot;</code>, which means &quot;Curtain&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>calibration</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">This value indicates the calibration status (<code>true</code> or <code>false</code>).</td>
</tr>
<tr>
<td style="text-align:left"><code>battery</code></td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">This value indicates the battery level (<code>1-100</code>, <code>%</code>).</td>
</tr>
<tr>
<td style="text-align:left"><code>position</code></td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">This value indicates the percentage of current position (<code>0-100</code>, 0 is open, <code>%</code>).</td>
</tr>
<tr>
<td style="text-align:left"><code>lightLevel</code></td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">This value indicates the light level of the light source currently set (<code>1-10</code>).</td>
</tr>
</tbody>
</table>
<a id="md:contact-wocontact" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Contact (WoContact)<a href="#md:contact-wocontact" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Example of the advertisement data:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;id&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;f0cda125e3ec&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;address&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;f0:cd:a1:25:e3:ec&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;rssi&quot;</span><span class="hl-1">: </span><span class="hl-8">-56</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;serviceData&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;d&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;modelName&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;WoContact&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;movement&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;battery&quot;</span><span class="hl-1">: </span><span class="hl-8">95</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;doorState&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;close&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;lightLevel&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;bright&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Structure of the <code>serviceData</code>:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>model</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is always <code>&quot;c&quot;</code>, which means &quot;Contact (WoContact)&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>modelName</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is always <code>&quot;WoContact&quot;</code>, which means &quot;Contact&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>movement</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">This value indicates the motion status (<code>true</code> or <code>false</code>).</td>
</tr>
<tr>
<td style="text-align:left"><code>battery</code></td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">This value indicates the battery level (<code>1-100</code>, <code>%</code>).</td>
</tr>
<tr>
<td style="text-align:left"><code>doorState</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value indicates the door Status (<code>close</code>, <code>open</code>, <code>timeout no closed</code>).</td>
</tr>
<tr>
<td style="text-align:left"><code>lightLevel</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value indicates the light level (<code>dark</code>, <code>bright</code>).</td>
</tr>
</tbody>
</table>
<a id="md:motion-womotion" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Motion (WoMotion)<a href="#md:motion-womotion" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Example of the advertisement data:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;id&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;e7216fa344a9&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;address&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;e7:21:6f:a3:44:a9&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;rssi&quot;</span><span class="hl-1">: </span><span class="hl-8">-53</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;serviceData&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;s&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;modelName&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;WoMotion&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;movement&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;battery&quot;</span><span class="hl-1">: </span><span class="hl-8">96</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;lightLevel&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;bright&quot;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Structure of the <code>serviceData</code>:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>model</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is always <code>&quot;s&quot;</code>, which means &quot;Motion (WoMotion)&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>modelName</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is always <code>&quot;WoMotion&quot;</code>, which means &quot;Motion&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>movement</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">This value indicates the motion status (<code>true</code> or <code>false</code>).</td>
</tr>
<tr>
<td style="text-align:left"><code>battery</code></td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">This value indicates the battery level (<code>1-100</code>, <code>%</code>).</td>
</tr>
<tr>
<td style="text-align:left"><code>lightLevel</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value indicates the light level (<code>dark</code>, <code>bright</code>).</td>
</tr>
</tbody>
</table>
<a id="md:plugmini-woplugmini" class="tsd-anchor"></a><h3 class="tsd-anchor-link">PlugMini (WoPlugMini)<a href="#md:plugmini-woplugmini" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Example of the advertisement data:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;id&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;cd2409ea3e9441f87d4580e0380a62bf&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;address&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;60:55:f9:35:f6:a6&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;rssi&quot;</span><span class="hl-1">: </span><span class="hl-8">-50</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;serviceData&quot;</span><span class="hl-1">: {</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;model&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;j&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;modelName&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;WoPlugMini&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;state&quot;</span><span class="hl-1">: </span><span class="hl-4">&quot;off&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;delay&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;timer&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;syncUtcTime&quot;</span><span class="hl-1">: </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;wifiRssi&quot;</span><span class="hl-1">: </span><span class="hl-8">48</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;overload&quot;</span><span class="hl-1">: </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-9">&quot;currentPower&quot;</span><span class="hl-1">: </span><span class="hl-8">0</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Structure of the <code>serviceData</code>:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>model</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is always <code>&quot;j&quot;</code> or <code>&quot;g&quot;</code>, which means &quot;PlugMini&quot; (JP or US).</td>
</tr>
<tr>
<td style="text-align:left"><code>modelName</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is always <code>&quot;WoPlugMini&quot;</code>, which means &quot;PlugMini&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>state   </code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">This value indicates whether the plug mini is turned on (<code>true</code>) or not (<code>false</code>).</td>
</tr>
<tr>
<td style="text-align:left"><code>delay</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">Indicates whether a delay is present.</td>
</tr>
<tr>
<td style="text-align:left"><code>timer</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">Indicates whether a timer is present.</td>
</tr>
<tr>
<td style="text-align:left"><code>syncUtcTime</code></td>
<td style="text-align:left">boolean</td>
<td style="text-align:left">Indicates whether the UTC time has been synchronized.</td>
</tr>
<tr>
<td style="text-align:left"><code>overload</code></td>
<td style="text-align:left">boolean</td>
<td style="text-align:left">Indicates whether the Plug Mini is overloaded, more than 15A current overload.</td>
</tr>
<tr>
<td style="text-align:left"><code>currentPower</code></td>
<td style="text-align:left">Float</td>
<td style="text-align:left">Current power consumption in Watts.</td>
</tr>
</tbody>
</table>
<hr>
<a id="md:smartlock-wosmartlock" class="tsd-anchor"></a><h3 class="tsd-anchor-link">SmartLock (WoSmartLock)<a href="#md:smartlock-wosmartlock" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Example of the advertisement data:</p>
<pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span class="hl-9">&quot;id: &#39;d30864110b8c&#39;,</span><br/><span class="hl-9">  &quot;</span><span class="hl-11">address</span><span class="hl-9">&quot;: &#39;d3:08:64:11:0b:8c&#39;,</span><br/><span class="hl-9">  &quot;</span><span class="hl-11">rssi</span><span class="hl-9">&quot;: -52,</span><br/><span class="hl-9">  &quot;</span><span class="hl-11">serviceData</span><span class="hl-9">&quot;: {</span><br/><span class="hl-9">    &quot;</span><span class="hl-11">model</span><span class="hl-9">&quot;: &quot;</span><span class="hl-11">o</span><span class="hl-9">&quot;,</span><br/><span class="hl-9">    &quot;</span><span class="hl-11">modelName</span><span class="hl-9">&quot;: &quot;</span><span class="hl-11">WoSmartLock</span><span class="hl-9">&quot;,</span><br/><span class="hl-9">    &quot;</span><span class="hl-11">battery</span><span class="hl-9">&quot;: 100,</span><br/><span class="hl-9">    &quot;</span><span class="hl-11">calibration</span><span class="hl-9">&quot;: true,</span><br/><span class="hl-9">    &quot;</span><span class="hl-11">status</span><span class="hl-9">&quot;: &quot;</span><span class="hl-11">LOCKED</span><span class="hl-9">&quot;,</span><br/><span class="hl-9">    &quot;</span><span class="hl-11">update_from_secondary_lock</span><span class="hl-9">&quot;: false,</span><br/><span class="hl-9">    &quot;</span><span class="hl-11">door_open</span><span class="hl-9">&quot;: false,</span><br/><span class="hl-9">    &quot;</span><span class="hl-11">double_lock_mode</span><span class="hl-9">&quot;: false,</span><br/><span class="hl-9">    &quot;</span><span class="hl-11">unclosed_alarm</span><span class="hl-9">&quot;: false,</span><br/><span class="hl-9">    &quot;</span><span class="hl-11">unlocked_alarm</span><span class="hl-9">&quot;: false,</span><br/><span class="hl-9">    &quot;</span><span class="hl-11">auto_lock_paused</span><span class="hl-9">&quot;: false</span><br/><span class="hl-9">  }</span><br/><span class="hl-9">}</span><br/>
</code><button type="button">Copy</button></pre>

<p>Structure of the <code>serviceData</code>:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Property</th>
<th style="text-align:left">Type</th>
<th style="text-align:left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>model</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is <code>&quot;o&quot;</code>, which means &quot;Lock (WoSmartLock)&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>modelName</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value is always <code>&quot;WoSmartLock&quot;</code>, which means &quot;Lock&quot;.</td>
</tr>
<tr>
<td style="text-align:left"><code>battery</code></td>
<td style="text-align:left">Integer</td>
<td style="text-align:left">This value indicates the battery level (<code>1-100</code>, <code>%</code>).</td>
</tr>
<tr>
<td style="text-align:left"><code>calibration</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">This value indicates the calibration status (<code>true</code> or <code>false</code>).</td>
</tr>
<tr>
<td style="text-align:left"><code>status</code></td>
<td style="text-align:left">String</td>
<td style="text-align:left">This value indicates the current locked state. Possible values:</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"><code>&quot;LOCKED&quot;</code>, <code>&quot;UNLOCKED&quot;</code>, <code>&quot;LOCKING&quot;</code>, <code>&quot;UNLOCKING&quot;</code></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"><code>&quot;LOCKING_STOP&quot;</code>, <code>&quot;UNLOCKING_STOP&quot;</code> (stuck when locking or unlocking respectively)</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"><code>&quot;NOT_FULLY_LOCKED&quot;</code> (eu model only), <code>&quot;UNKNOWN&quot;</code> (fallback: must be some error)</td>
</tr>
<tr>
<td style="text-align:left"><code>update_from_secondary_lock</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">??</td>
</tr>
<tr>
<td style="text-align:left"><code>door_open</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">door open status - whether the door is not detecting the sensor magnet</td>
</tr>
<tr>
<td style="text-align:left"><code>double_lock_mode</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">dual lock mode enabled status - two locks working simultaneously</td>
</tr>
<tr>
<td style="text-align:left"><code>unclosed_alarm</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">enabled status for door ajar alarm function</td>
</tr>
<tr>
<td style="text-align:left"><code>unlocked_alarm</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">whether the alarm function is enabled for door left unlocked</td>
</tr>
<tr>
<td style="text-align:left"><code>auto_lock_paused</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">auto lock mode paused</td>
</tr>
<tr>
<td style="text-align:left"><code>night_latch</code></td>
<td style="text-align:left">Boolean</td>
<td style="text-align:left">night latch mode enabled (eu firmware only)</td>
</tr>
</tbody>
</table>
<a id="md:references" class="tsd-anchor"></a><h2 class="tsd-anchor-link">References<a href="#md:references" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://www.switch-bot.com/">Switchbot official global site</a></li>
<li><a href="https://github.com/OpenWonderLabs/SwitchBotAPI-BLE">GitHub - OpenWonderLabs/SwitchBotAPI-BLE</a></li>
</ul>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:node-switchbot"><span>Node-<wbr/>Switch<wbr/>Bot</span></a><ul><li><a href="#md:table-of-contents"><span>Table of <wbr/>Contents</span></a></li><li><a href="#md:supported-os"><span>Supported OS</span></a></li><li><a href="#md:dependencies"><span>Dependencies</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:quick-start"><span>Quick <wbr/>Start</span></a></li><li><ul><li><a href="#md:monitoring-advertising-packets"><span>Monitoring <wbr/>Advertising packets</span></a></li><li><a href="#md:moving-the-arm-of-the-bot"><span>Moving the arm of the <wbr/>Bot</span></a></li></ul></li><li><a href="#md:switchbot-object"><span>Switchbot object</span></a></li><li><ul><li><a href="#md:discover-method"><span>discover() method</span></a></li><li><a href="#md:ondiscover-event-handler"><span>ondiscover event handler</span></a></li><li><a href="#md:startscan-method"><span>start<wbr/>Scan() method</span></a></li><li><a href="#md:stopscan-method"><span>stop<wbr/>Scan() method</span></a></li><li><a href="#md:onadvertisement-event-handler"><span>onadvertisement event handler</span></a></li><li><a href="#md:wait-method"><span>wait() method</span></a></li></ul></li><li><a href="#md:switchbotdevice-object"><span>Switchbot<wbr/>Device object</span></a></li><li><ul><li><a href="#md:properties"><span>Properties</span></a></li><li><a href="#md:getdevicename-method"><span>get<wbr/>Device<wbr/>Name() method</span></a></li><li><a href="#md:setdevicename-method"><span>set<wbr/>Device<wbr/>Name() method</span></a></li><li><a href="#md:connect-method"><span>connect() method</span></a></li><li><a href="#md:disconnect-method"><span>disconnect() method</span></a></li><li><a href="#md:onconnect-event-handler"><span>onconnect event handler</span></a></li><li><a href="#md:ondisconnect-event-handler"><span>ondisconnect event handler</span></a></li></ul></li><li><a href="#md:wohand-object"><span>Wo<wbr/>Hand object</span></a></li><li><ul><li><a href="#md:press-method"><span>press() method</span></a></li><li><a href="#md:turnon-method"><span>turn<wbr/>On() method</span></a></li><li><a href="#md:turnoff-method"><span>turn<wbr/>Off() method</span></a></li><li><a href="#md:down-method"><span>down() method</span></a></li><li><a href="#md:up-method"><span>up() method</span></a></li></ul></li><li><a href="#md:wocurtain-object"><span>Wo<wbr/>Curtain object</span></a></li><li><ul><li><a href="#md:open-method"><span>open() method</span></a></li><li><a href="#md:close-method"><span>close() method</span></a></li><li><a href="#md:pause-method"><span>pause() method</span></a></li><li><a href="#md:runtopos-method"><span>run<wbr/>To<wbr/>Pos() method</span></a></li></ul></li><li><a href="#md:woplugmini-object"><span>Wo<wbr/>Plug<wbr/>Mini object</span></a></li><li><ul><li><a href="#md:turnon-method-1"><span>turn<wbr/>On() method</span></a></li><li><a href="#md:turnoff-method-1"><span>turn<wbr/>Off() method</span></a></li><li><a href="#md:toggle-method"><span>toggle() method</span></a></li></ul></li><li><a href="#md:wosmartlock-object"><span>Wo<wbr/>Smart<wbr/>Lock object</span></a></li><li><ul><li><a href="#md:setkey-method"><span>set<wbr/>Key() method</span></a></li><li><a href="#md:lock-method"><span>lock() method</span></a></li><li><a href="#md:unlock-method"><span>unlock() method</span></a></li><li><a href="#md:unlocknounlatch-method"><span>unlock<wbr/>No<wbr/>Unlatch() method</span></a></li><li><a href="#md:info-method"><span>info() method</span></a></li></ul></li><li><a href="#md:advertisement-data"><span>Advertisement data</span></a></li><li><ul><li><a href="#md:bot-wohand"><span>Bot (<wbr/>Wo<wbr/>Hand)</span></a></li><li><a href="#md:meter-wosensorth"><span>Meter (<wbr/>Wo<wbr/>SensorTH)</span></a></li><li><a href="#md:curtain-wocurtain"><span>Curtain (<wbr/>Wo<wbr/>Curtain)</span></a></li><li><a href="#md:contact-wocontact"><span>Contact (<wbr/>Wo<wbr/>Contact)</span></a></li><li><a href="#md:motion-womotion"><span>Motion (<wbr/>Wo<wbr/>Motion)</span></a></li><li><a href="#md:plugmini-woplugmini"><span>Plug<wbr/>Mini (<wbr/>Wo<wbr/>Plug<wbr/>Mini)</span></a></li><li><a href="#md:smartlock-wosmartlock"><span>Smart<wbr/>Lock (<wbr/>Wo<wbr/>Smart<wbr/>Lock)</span></a></li></ul></li><li><a href="#md:references"><span>References</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>node-switchbot</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer></footer><div class="overlay"></div></body></html>
